---
title: "ECON 2250 Final Report: Analysis of Financial Indicators of Stocks in 2014"
author: Komei, Lim, Shreyas, Zel
format: pdf
editor: visual
---

## Introduction

::: {.justify style="text-align:justify"}
To start off it is important to provide a quick introduction into the project’s motivations, dataset, description, and key variables (both outcome and indicator), and research question. Starting off by looking into our group’s motivations, we were interested in finding out how companies are able to recover in a post recession economy. This question on the surface may seem boring, yet if answered can play a key role in policy decisions and how companies are able to navigate uncertain times. The way in which companies and governments respond to these dramatic changes play a big role in a country's well being, overall stability, and future investment decisions on both an individual and institutional level making this study both valuable and intriguing, hence serving as our motivation. After this, we realized that we needed to find a data set that we could use that preferably was both recent and directly followed a well known economic downturn. This was when we decided to settle on the 2009 financial crisis as this was an event that we all had lived through and had genuine interest in. Following this we found a data set that contained at least ten quantitative financial variables on 2000+ publicly traded companies in 2014. This data is primarily centered around key metrics such as revenue, profit margin, gross profit, R&D expenditure, Earnings Per Share (EPS), market capitalization, and operating expenses. As we started our analysis we soon realized that we needed to clean our data due to duplicates, missing values, de-listed companies, among other reasons that left us with a final dataset of 788+ companies which we would analyze.

With this new dataset, we found that it was important that we clearly define all variables that we planned to discuss within this project and report:

**Outcome Variables:**

**Stock Return -** The percentage change in a stock over the year of 2014, which we are using to predict movement of post rescission economies.

**Predictor variables:**

**Revenue -** The total income that a company makes before subtracting expenses or any other operating costs.

**Profit -** The net earnings of a company after all the expenses have been subtracted. This is basically Revenue - Total Expenses.

**Profit Margin -** This is similar to profit, but instead is the percentage of profit that is left after expenses. 

**Gross Profit -** This is revenue minus the cost of goods sold, which is better explained as the amount that is left after production and delivery costs.

**R&D Expenditure -** This is the amount of money it takes to research and develop a product. This helps with long term growth and is included in the per piece sold cost.

**Market Capitalization -** This is the total value of the company which is basically the share price times the amount of shares available.

**Earnings Per Share (EPS) -** This is the total income per quarter divided by the shares available and is a key value for investors and company well being

**Operating Expenses -** This is the amount of money it takes for the business to maintain its operations and production with expenses like marketing being included.

Now that we fully understood the data provided to us along with the variables we needed to conduct a brief descriptive data analysis that found that the stock returns had a wide skewness with most companies having gains that were pretty small or within historical trends. There were also a couple of companies that were outliers with either extreme gains or losses. Additionally, the predictor variables themselves had substantial variation. Things like revenue and market cap had a wide variety of data across various industries while things like R&D and were more focused in technology based fields. All together after understanding our motivations, cleaning our data, and understanding some trends we made the following research question: “How do financial indicators like R&D expenditure, revenue, and profit relate to stock returns in 2014 and what can it tell us about post-recession economies?”.
:::

## Methodology

:::::: {.justify style="text-align:justify"}
Our analysis uses a financial dataset containing over 700 publicly traded companies from the year 2014. As described in the project materials, the dataset includes more than ten quantitative financial indicators such as revenue, profit margin, gross profit, earnings per share (EPS), operating expenses, market capitalization, and R&D expenditure. We restricted the sample to firms that were active and reporting financial data in 2014, and we removed duplicate entries and observations with missing values to ensure consistency and comparability across firms. These preprocessing steps produced a cleaned dataset of 788 observations prior to model selection. After cleaning the dataset, we standardized all continuous predictor variables using **z-score normalization**:

::: {.center style="text-align:center;"}
$z_i=\frac{ x_i-\bar{x}}{s}$
:::

where $x_i$ is the original value, $x$ is the sample mean of variable $i$, and $s$ is the standard deviation. This transformation places the predictors on a common scale (mean 0, standard deviation 1), which facilitates numerical stability of the regressions and makes the magnitude of the estimated coefficients more directly comparable across financial indicators. We defined stock return (%) as the outcome variable for the regression analysis, following the project framing on page 4. Predictor variables were chosen to represent a diverse set of financial performance indicators, including: R&D expenditure, profit, market capitalization, revenue, EPS, operating expenses. These indicators were selected because they capture both long-term strategic investment (e.g., R&D) and short-term profitability and liquidity measures. Their inclusion allows us to test whether firm fundamentals were informative of stock returns in the immediate post-recession environment of 2014. All data preprocessing and regression analysis were conducted in RStudio, ensuring reproducibility through documented code and GitHub version tracking. After cleaning the dataset, we examined descriptive statistics—including skewness—for all variables to understand distributional properties that might influence model performance or interpretation.

To evaluate the relationship between financial indicators and stock returns, we employed simple linear regression models. For each predictor variable, we estimated the model:

::: {.center style="text-align:center;"}
$y=\alpha+\beta x$
:::

where y is stock return (%) and x is one of the six financial indicators listed above. The approach outlined on page 4 guided this choice of model. For each coefficient, we computed the standard error and associated t-statistic:

::: {.center style="text-align:center;"}
$t=\frac{\hat{\beta}}{SE(\hat{\beta})}$
:::

We used a significance level of α=0.05, allowing us to test:

-   **Null hypothesis ​:** The predictor has no relationship with stock return (β=0).

-   **Alternative hypothesis ​:** The predictor is correlated with stock return (β≠0).

Each predictor was tested individually to isolate its marginal effect on returns. This iterative approach was selected because preliminary correlation checks did not indicate strong multicollinearity, and the project’s objective emphasized understanding the standalone relevance of each indicator.

For each regression model, we examined:

1.  **Estimated coefficient size and sign**

2.  **Confidence intervals**

3.  **p-values**

4.  $R^2$
::::::

```{r include = FALSE}
# install.packages("coefplot")
library(coefplot)
library(readxl)
library(readr)
library(tidyquant)
library(dplyr)
library(ggplot2)
library(ggridges)
library(reshape2)
# Path to the Excel file
file_path_cleaned <- "data/Cleaned_2014_Financial_Dataset.xlsx"
# file_path_raw <- "data/2014 Financial Indicators Data.xlsx"

# Read the first sheet, header included by default
df <- read_excel(file_path_cleaned, sheet = 1, col_names = TRUE)
# df <- read_excel(file_path_raw, sheet = 1, col_names = TRUE)

# Make sure there is no NA row
df[df == ""] <- NA
df <- na.omit(df)

# Rename columns to make them system compliant
names(df) <- make.names(names(df))

# Make sure all columns are numeric
df <- df[ , sapply(df, is.numeric)]

# Drop any potential column for company ticker
df <- df[ , !(names(df) %in% "Company")]
df <- df[ , !(names(df) %in% "X")]
df <- df[ , !(names(df) %in% "...1")]

# View the data columns
# print(names(df))
```

## Results

```{r include = FALSE}
# Create a z-scaled set of data for normalization
df_scaled <- df
# Switch following if statement between TRUE/FALSE to turn normalization ON/OFF
if (TRUE){
df_scaled[, names(df_scaled) != "X2015.PRICE.VAR...."] <- scale(df_scaled[, names(df_scaled) != "X2015.PRICE.VAR...."])
}

# Perform simple linear regression
# Set price var as outcome, the remaining as predictors
model <- lm(X2015.PRICE.VAR.... ~ ., data = df_scaled)

# Show MSE
#mse <- mean(model$residuals^2)
#mse
```

```{r echo = FALSE, message = FALSE}
# Plot variable distributions
df_long <- melt(df_scaled[, names(df_scaled) != "X2015.PRICE.VAR...."],
                variable.name = "Variable",
                value.name = "Value")

ggplot(df_long, aes(x = Value, y = Variable, fill = Variable)) +
  geom_density_ridges(alpha = 0.7, scale = 2) +
  coord_cartesian(xlim = c(-1, 1)) +
  labs(
    title = "Ridge Plot of All Financial Variables (Standardized)",
    x = "Z-score",
    y = "Variable"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
```

::: {.center style="text-align:center;"}
**Figure I. Ridge plot showing z-scale normalized variable distributions.**
:::

------------------------------------------------------------------------

```{r echo = FALSE}
# Get a summary of the model
summary(model)$coefficients
```

::: {.center style="text-align:center;"}
**Figure II. Table of predictor coefficients used in linear regression model and respective estimates, standard error, t-value, and p-value. Multiple R-squared is also found to be extremely low at 0.0002.**
:::

------------------------------------------------------------------------

```{r echo = FALSE}
# Plot the coefficients and standard error
coefplot(model, intercept = FALSE)
```

::: {.center style="text-align:center;"}
**Figure III. Coefficient plot showing estimates of predictor coefficients (dot), along with the 50% confidence interval (bolded lines) and 95% confidence interval (lines). We can see that the null hypothesis (x=0 axis) lies well within the confidence intervals.**
:::

## Discussion & Conclusion

::: {.justify style="text-align:justify"}
As we analyzed our data of the key indicators and conducted our simple linear regression, our results showed that none of the six financial indicators were statistically significant, with all p-values far above the α = 0.05 threshold (all p \> 0.86). Indicators were shown to have little to no explanatory power, with an R² ≈ 0.002, meaning that less than 0.2% of the variation in stock returns was explained by the predictors we tested. These findings show that our data did not have a meaningful linear relationship with stock returns during the studied period. We found similar patterns to those in the introduction, as there was clustering around small gains, with only a small number having extreme positive or negative values. This result was further verified when we found small coefficients and vast variations among different industries. Despite our findings, several limitations may have affected the results. Firstly, because a simple linear regression was used to estimate the variables, the analysis focused on the marginal effects of individual variables rather than the combined influences, which would have been possible through a multiple regression model. This approach, while easier to do, is less realistic as the market has many variables moving in correlation with each other. Another limitation is the distribution's shape and the presence of outliers that have extreme values that can weaken correlations, inflate regression uncertainty, and cause noise for determining trends. In addition, since only one year's worth of data was used, we could not accurately measure all post-recession economies, as every recession has a different bounce-back period and events. The final limitation is that while we included many main indicators, there is always an opportunity to add more, such as P/E ratios, debt ratios, and other factors that are difficult to account for, all of which would be in the error term of the linear regression. We would also need to consider how to best deal with the variation in R&D, as companies in the pharmaceutical and technology fields may spend lots of money while other fields, like production-based industries, may not.

### Validity Considerations:

 The internal statistical validity of our results is relatively strong in the sense that the hypothesis tests, confidence intervals, and diagnostics all consistently indicate non-significance for the predictors we examined. However, the external validity of our conclusions is limited. Our data cover only one year (2014) in a specific macroeconomic environment, so the patterns we document may not generalize to other periods with different levels of volatility, risk appetite, or macroeconomic conditions, such as the pre-crisis years or the immediate aftermath of 2008. In addition, our firm sample, while reasonably large, may not fully represent smaller, non-listed, or international firms, which further constrains generalizability.

### Ways to Improve the Analysis:

 Future replications of this project could improve the empirical strategy in several ways. First, instead of estimating separate simple regressions for each indicator, a multiple regression framework could model the joint effects of fundamentals, capturing the fact that variables such as revenue, profit, and market capitalization are likely to move together. Second, more attention could be paid to the distributional features of the variables: skewed predictors and extreme outliers could be addressed through transformations, winsorization, or robust regression methods that reduce the influence of a few extreme firms. Third, expanding the set of financial indicators to include debt-to-equity ratios, free cash flow, price-to-earnings ratios, and liquidity measures would allow us to test a richer notion of “fundamentals.” Finally, grouping firms by industry and estimating sector-specific models could reveal that fundamentals matter in some sectors (e.g., technology or pharmaceuticals) more than others, instead of assuming a uniform relationship across the entire market.

### Ideas for Future Work:

 To better understand how firms recover after recessions, future work should move beyond a single cross-section and incorporate dynamics over time. Constructing a panel that spans multiple years (for example, 2010–2020) would allow researchers to track how changes in fundamentals relate to subsequent returns, rather than only contemporaneous ones. With such data, time-series or panel-data models could explicitly account for inertia and time dependence in price movements—for instance, by including lagged returns or momentum terms that capture the tendency for prices to move in trends rather than in isolated jumps. This would help test whether past performance and evolving fundamentals together provide more predictive power than one-year snapshots. Additionally, separate models for major sectors such as technology, finance, manufacturing, and energy could shed light on whether post-recession recovery patterns are primarily driven by sector-specific shocks or by broad market forces.
:::
